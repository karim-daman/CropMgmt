import{d as fe,t as V,s as c,a as q,e as me}from"../chunks/DpEC42Oz.js";import{i as O}from"../chunks/CwavQbNY.js";import{p as W,f as be,s as a,c as s,r,t as X,a as ee,g as t,v as i,m as ge,b as xe,w as _e,d as we}from"../chunks/I5jpou1v.js";import{e as ye,r as u,i as ke,s as Ce}from"../chunks/BdoIN8DB.js";import{b as d}from"../chunks/CS47UUab.js";import{s as te,b as ae,a as re}from"../chunks/C0I-sOUY.js";import{s as De,t as H}from"../chunks/C4lauY-A.js";import{l as I}from"../chunks/D_iBFdTx.js";import{p as K}from"../chunks/DRaHeqgg.js";var Ne=(p,l)=>l(!l()),Pe=(p,l)=>{l(!l())},Ie=(p,l)=>{l()},$e=(p,l)=>{l(!l())},Te=V(`<button class=" pressable mr-1 size-6 rounded-sm border text-red-500 hover:text-red-700"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg></button> <div id="popup-modal" tabindex="-1"><div class="relative max-h-full w-full max-w-md p-4"><div class="relative rounded-lg bg-white shadow-sm dark:bg-gray-700"><button type="button" class="pressable absolute end-2.5 top-3 ms-auto inline-flex h-8 w-8 items-center justify-center rounded-lg bg-transparent text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white" data-modal-hide="popup-modal"><svg class="h-3 w-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"></path></svg> <span class="sr-only">Close modal</span></button> <div class="p-4 text-center md:p-5"><svg class="mx-auto mb-4 h-12 w-12 text-gray-400 dark:text-gray-200" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"></path></svg> <h3 class="mb-5 text-lg font-normal text-gray-500 dark:text-gray-400"> </h3> <button data-modal-hide="popup-modal" type="button" class="pressable inline-flex items-center rounded-lg bg-red-600 px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-red-800 focus:ring-4 focus:ring-red-300 focus:outline-none dark:focus:ring-red-800">Yes, I'm sure</button> <button data-modal-hide="popup-modal" type="button" class=" pressable ms-3 rounded-lg border border-gray-200 bg-white px-5 py-2.5 text-sm font-medium text-gray-900 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 focus:outline-none dark:border-gray-600 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white dark:focus:ring-gray-700">No, cancel</button></div></div></div></div>`,1);function Se(p,l){W(l,!1);const[$,T]=te(),N=()=>re(I,"$livraisons",$);let e=K(l,"ID",8),v=K(l,"hidden",12,!0);function w(){ae(I,N().filter(D=>D.ID!==e())),H.success("Removed a livraison ID: "+e(),{position:"top-right"}),v(!0)}O();var m=Te(),b=be(m);b.__click=[Ne,v];var h=a(b,2),g=s(h),y=s(g),x=s(y);x.__click=[Pe,v];var _=a(x,2),f=a(s(_),2),P=s(f);r(f);var k=a(f,2);k.__click=[Ie,w];var C=a(k,2);C.__click=[$e,v],r(_),r(y),r(g),r(h),X(()=>{De(h,`transit ${(v()?"disappear":" appear")??""} fixed z-50 flex h-screen max-h-full w-full items-center justify-center overflow-x-hidden overflow-y-auto backdrop-blur-xs backdrop-brightness-50 md:inset-0`),c(P,`Are you sure you want to delete livraison ID: ${e()??""}?`)}),q(p,m),ee(),T()}fe(["click"]);var Qe=V('<tr class="border-b"><td class="p-2"> </td><td class="p-2"> </td><td class="p-2"> </td><td class="p-2"> </td><td class="p-2"> </td><td class="p-2"> </td><td class="p-2"> </td><td class="p-2"> </td><td class="flex p-2"><a class="pressable mr-1 size-6 rounded-sm border"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class=" "><path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"></path></svg></a> <!> <button class="pressable mr-1 size-6 rounded-sm border"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"></path></svg></button></td></tr>'),Le=V('<div class="rounded-lg bg-white p-6 shadow"><h1 class="mb-4 text-2xl font-bold">Livraison</h1> <div class="mb-4 grid grid-cols-3 gap-4"><div class="space-y-2"><input type="datetime-local" class="w-full rounded border p-2"> <input type="text" placeholder="Client Name" class="w-full rounded border p-2"> <input type="tel" placeholder="Client Telephone" class="w-full rounded border p-2"></div> <div class="space-y-2"><input type="text" placeholder="Chauffeur Name" class="w-full rounded border p-2"> <input type="tel" placeholder="Chauffeur Telephone" class="w-full rounded border p-2"> <input type="text" placeholder="Plate Number" class="w-full rounded border p-2"></div> <div class="space-y-2"><input type="text" placeholder="Source" class="w-full rounded border p-2"> <input type="text" placeholder="Destination" class="w-full rounded border p-2"> <div class="grid grid-cols-2 gap-2"><input type="number" placeholder="Unit Price" class="rounded border p-2"> <input type="number" placeholder="Quantity" class="rounded border p-2"></div> <button class="w-full rounded bg-blue-500 px-4 py-2 text-white hover:bg-blue-600">Add</button></div></div> <table class="w-full"><thead><tr class="bg-gray-100"><th class="p-2 text-left">Date</th><th class="p-2 text-left">Client</th><th class="p-2 text-left">Chauffeur</th><th class="p-2 text-left">Source</th><th class="p-2 text-left">Destination</th><th class="p-2 text-left">Price</th><th class="p-2 text-left">Qty</th><th class="p-2 text-left">Total</th><th class="p-2 text-left">Actions</th></tr></thead><tbody></tbody></table></div>');function He(p,l){W(l,!1);const[$,T]=te(),N=()=>re(I,"$livraisons",$);let e=ge({ID:"",Date:new Date,ClientName:"",Cleinttelephone:"",chauffeur:{ChauffeurName:"",ChauffeurTelephone:"",ChauffeurPlateNumber:""},Source:"",Destination:"",Article:"",UnitPrice:0,Quantity:0,Total:0});function v(){if(!t(e).ClientName||!t(e).chauffeur.ChauffeurName||!t(e).Source||!t(e).Destination||!t(e).UnitPrice||!t(e).Quantity){H.error("Please fill in all required fields.",{position:"top-right"});return}i(e,t(e).ID=Date.now().toString()),i(e,t(e).Total=t(e).UnitPrice*t(e).Quantity),ae(I,[...N(),{...t(e)}]),xe(e,{ID:"",Date:new Date,ClientName:"",Cleinttelephone:"",chauffeur:{ChauffeurName:"",ChauffeurTelephone:"",ChauffeurPlateNumber:""},Source:"",Destination:"",Article:"",UnitPrice:0,Quantity:0,Total:0}),H.success("Added a new bon livraison.",{position:"top-right"})}O();var w=Le(),m=a(s(w),2),b=s(m),h=s(b);u(h);var g=a(h,2);u(g);var y=a(g,2);u(y),r(b);var x=a(b,2),_=s(x);u(_);var f=a(_,2);u(f);var P=a(f,2);u(P),r(x);var k=a(x,2),C=s(k);u(C);var D=a(C,2);u(D);var S=a(D,2),Q=s(S);u(Q);var Y=a(Q,2);u(Y),r(S);var se=a(S,2);r(k),r(m);var E=a(m,2),F=a(s(E));ye(F,5,N,ke,(o,n)=>{var L=Qe(),U=s(L),oe=s(U,!0);r(U);var j=a(U),le=s(j,!0);r(j);var A=a(j),ie=s(A,!0);r(A);var z=a(A),ne=s(z,!0);r(z);var B=a(z),ue=s(B,!0);r(B);var M=a(B),de=s(M,!0);r(M);var R=a(M),ce=s(R,!0);r(R);var Z=a(R),pe=s(Z,!0);r(Z);var G=a(Z),J=s(G),ve=a(J,2);Se(ve,{get ID(){return t(n).ID}}),_e(2),r(G),r(L),X(he=>{c(oe,he),c(le,t(n).ClientName),c(ie,t(n).chauffeur.ChauffeurName),c(ne,t(n).Source),c(ue,t(n).Destination),c(de,t(n).UnitPrice),c(ce,t(n).Quantity),c(pe,t(n).Total),Ce(J,"href",`/livraison/${t(n).ID??""}`)},[()=>new Date(t(n).Date).toLocaleDateString()],we),q(o,L)}),r(F),r(E),r(w),d(h,()=>t(e).Date,o=>i(e,t(e).Date=o)),d(g,()=>t(e).ClientName,o=>i(e,t(e).ClientName=o)),d(y,()=>t(e).Cleinttelephone,o=>i(e,t(e).Cleinttelephone=o)),d(_,()=>t(e).chauffeur.ChauffeurName,o=>i(e,t(e).chauffeur.ChauffeurName=o)),d(f,()=>t(e).chauffeur.ChauffeurTelephone,o=>i(e,t(e).chauffeur.ChauffeurTelephone=o)),d(P,()=>t(e).chauffeur.ChauffeurPlateNumber,o=>i(e,t(e).chauffeur.ChauffeurPlateNumber=o)),d(C,()=>t(e).Source,o=>i(e,t(e).Source=o)),d(D,()=>t(e).Destination,o=>i(e,t(e).Destination=o)),d(Q,()=>t(e).UnitPrice,o=>i(e,t(e).UnitPrice=o)),d(Y,()=>t(e).Quantity,o=>i(e,t(e).Quantity=o)),me("click",se,v),q(p,w),ee(),T()}export{He as component};
