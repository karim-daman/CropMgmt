import{a6 as en,a9 as an,Z as S,q as g,T as rn,_ as sn,g as O,u as tn,aa as ln,ab as M,Y as U,$ as x,a0 as fn,ac as Z,a7 as Q,ad as on,ae as F,a4 as j,j as P,af as un,z as cn,f as $,ag as vn,ah as dn,a3 as _n,ai as pn,aj as hn,ak as gn,al as An,W as En,n as wn,am as Tn,an as bn,l as xn,ao as Rn,ap as L}from"./DAxARKWz.js";import{f as Cn}from"./C2-o_NFQ.js";function Hn(n,e){return e}function Ln(n,e,a,s){for(var l=[],t=e.length,c=0;c<t;c++)dn(e[c].e,l,!0);var h=t>0&&l.length===0&&a!==null;if(h){var _=a.parentNode;_n(_),_.append(a),s.clear(),w(n,e[0].prev,e[t-1].next)}pn(l,()=>{for(var v=0;v<t;v++){var r=e[v];h||(s.delete(r.k),w(n,r.prev,r.next)),hn(r.e,!h)}})}function On(n,e,a,s,l,t=null){var c=n,h={flags:e,items:new Map,first:null};{var _=n;c=g?S(rn(_)):_.appendChild(en())}g&&sn();var v=null,r=!1,p=tn(()=>{var i=a();return wn(i)?i:i==null?[]:j(i)});an(()=>{var i=O(p),u=i.length;if(r&&u===0)return;r=u===0;let f=!1;if(g){var b=c.data===ln;b!==(u===0)&&(c=M(),S(c),U(!1),f=!0)}if(g){for(var A=null,o,d=0;d<u;d++){if(x.nodeType===8&&x.data===fn){c=x,f=!0,U(!1);break}var m=i[d],T=s(m,d);o=y(x,h,A,null,m,T,d,l,e,a),h.items.set(T,o),A=o}u>0&&S(M())}g||mn(i,h,c,l,e,s,a),t!==null&&(u===0?v?Z(v):v=Q(()=>t(c)):v!==null&&on(v,()=>{v=null})),f&&U(!0),O(p)}),g&&(c=x)}function mn(n,e,a,s,l,t,c){var h=n.length,_=e.items,v=e.first,r=v,p,i=null,u=[],f=[],b,A,o,d;for(d=0;d<h;d+=1){if(b=n[d],A=t(b,d),o=_.get(A),o===void 0){var m=r?r.e.nodes_start:a;i=y(m,e,i,i===null?e.first:i.next,b,A,d,s,l,c),_.set(A,i),u=[],f=[],r=i.next;continue}if(Nn(o,b,d),o.e.f&F&&Z(o.e),o!==r){if(p!==void 0&&p.has(o)){if(u.length<f.length){var T=f[0],E;i=T.prev;var H=u[0],I=u[u.length-1];for(E=0;E<u.length;E+=1)G(u[E],T,a);for(E=0;E<f.length;E+=1)p.delete(f[E]);w(e,H.prev,I.next),w(e,i,H),w(e,I,T),r=T,i=I,d-=1,u=[],f=[]}else p.delete(o),G(o,r,a),w(e,o.prev,o.next),w(e,o,i===null?e.first:i.next),w(e,i,o),i=o;continue}for(u=[],f=[];r!==null&&r.k!==A;)r.e.f&F||(p??(p=new Set)).add(r),f.push(r),r=r.next;if(r===null)continue;o=r}u.push(o),i=o,r=o.next}if(r!==null||p!==void 0){for(var k=p===void 0?[]:j(p);r!==null;)r.e.f&F||k.push(r),r=r.next;var B=k.length;if(B>0){var nn=h===0?a:null;Ln(e,k,nn,_)}}P.first=e.first&&e.first.e,P.last=i&&i.e}function Nn(n,e,a,s){un(n.v,e),n.i=a}function y(n,e,a,s,l,t,c,h,_,v){var r=(_&gn)!==0,p=(_&An)===0,i=r?p?cn(l):$(l):l,u=_&vn?$(c):c,f={i:u,v:i,k:t,a:null,e:null,prev:a,next:s};try{return f.e=Q(()=>h(n,i,u,v),g),f.e.prev=a&&a.e,f.e.next=s&&s.e,a===null?e.first=f:(a.next=f,a.e.next=f.e),s!==null&&(s.prev=f,s.e.prev=f.e),f}finally{}}function G(n,e,a){for(var s=n.next?n.next.e.nodes_start:a,l=e?e.e.nodes_start:a,t=n.e.nodes_start;t!==s;){var c=En(t);l.before(t),t=c}}function w(n,e,a){e===null?n.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function Mn(n){if(g){var e=!1,a=()=>{if(!e){if(e=!0,n.hasAttribute("value")){var s=n.value;V(n,"value",null),n.value=s}if(n.hasAttribute("checked")){var l=n.checked;V(n,"checked",null),n.checked=l}}};n.__on_r=a,Tn(a),Cn()}}function V(n,e,a,s){var l=n.__attributes??(n.__attributes={});g&&(l[e]=n.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&n.nodeName==="LINK")||l[e]!==(l[e]=a)&&(e==="style"&&"__styles"in n&&(n.__styles={}),e==="loading"&&(n[bn]=a),a==null?n.removeAttribute(e):typeof a!="string"&&In(n).includes(e)?n[e]=a:n.setAttribute(e,a))}var Y=new Map;function In(n){var e=Y.get(n.nodeName);if(e)return e;Y.set(n.nodeName,e=[]);for(var a,s=n,l=Element.prototype;l!==s;){a=Rn(s);for(var t in a)a[t].set&&e.push(t);s=xn(s)}return e}async function D(n,e={},a){return window.__TAURI_INTERNALS__.invoke(n,e,a)}var N;(function(n){n[n.Audio=1]="Audio",n[n.Cache=2]="Cache",n[n.Config=3]="Config",n[n.Data=4]="Data",n[n.LocalData=5]="LocalData",n[n.Document=6]="Document",n[n.Download=7]="Download",n[n.Picture=8]="Picture",n[n.Public=9]="Public",n[n.Video=10]="Video",n[n.Resource=11]="Resource",n[n.Temp=12]="Temp",n[n.AppConfig=13]="AppConfig",n[n.AppData=14]="AppData",n[n.AppLocalData=15]="AppLocalData",n[n.AppCache=16]="AppCache",n[n.AppLog=17]="AppLog",n[n.Desktop=18]="Desktop",n[n.Executable=19]="Executable",n[n.Font=20]="Font",n[n.Home=21]="Home",n[n.Runtime=22]="Runtime",n[n.Template=23]="Template"})(N||(N={}));var q;(function(n){n[n.Start=0]="Start",n[n.Current=1]="Current",n[n.End=2]="End"})(q||(q={}));async function kn(n,e){if(n instanceof URL&&n.protocol!=="file:")throw new TypeError("Must be a file URL.");const a=await D("plugin:fs|read_text_file",{path:n instanceof URL?n.toString():n,options:e}),s=a instanceof ArrayBuffer?a:Uint8Array.from(a);return new TextDecoder().decode(s)}async function Sn(n,e,a){if(n instanceof URL&&n.protocol!=="file:")throw new TypeError("Must be a file URL.");const s=new TextEncoder;await D("plugin:fs|write_text_file",s.encode(e),{headers:{path:encodeURIComponent(n instanceof URL?n.toString():n),options:JSON.stringify(a)}})}const z=L({Cnh:[],Goweil:[],General:[]}),J=L(),K=L({Cnh:[],Goweil:[]}),W=L(),X=L();async function R(n,e){if(n)try{await Sn(`data\\${e}.txt`,JSON.stringify(n,null,2),{baseDir:N.Desktop})}catch(a){console.error(`Error saving ${e}:`,a)}}async function C(n){try{const e=await kn(`data\\${n}.txt`,{baseDir:N.Desktop});return JSON.parse(e)}catch(e){return console.error(`Error loading ${n}:`,e),[]}}async function Pn(){try{const[n,e,a,s,l]=await Promise.all([C("achats"),C("clients"),C("entretiens"),C("livraisons"),C("pointages")]);z.set(n),J.set(e),K.set(a),W.set(s),X.set(l),z.subscribe(t=>R(t,"achats")),J.subscribe(t=>R(t,"clients")),K.subscribe(t=>R(t,"entretiens")),W.subscribe(t=>R(t,"livraisons")),X.subscribe(t=>R(t,"pointages"))}catch(n){console.error("Error initializing stores:",n)}}export{K as a,z as b,J as c,Hn as d,On as e,Pn as i,W as l,X as p,Mn as r,V as s};
