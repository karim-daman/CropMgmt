import{h as D,aP as x,q as g,az as A}from"./I5jpou1v.js";function K(e,i,r){var n=e.__className,u=Q(i);D&&e.className===u?e.__className=u:(n!==u||D&&e.className!==u)&&(i==null?e.removeAttribute("class"):e.className=u,e.__className=u)}function Q(e,i){return(e??"")+""}function X(e,i,r){if(r){if(e.classList.contains(i))return;e.classList.add(i)}else{if(!e.classList.contains(i))return;e.classList.remove(i)}}function E(e,i,r,n){var u,o,m=!1,L=r.length>=2,M=(s,a,d)=>{if(u=a,L&&(o=s),!m){let l=i(s,a,d);if(i.length<2)a(l);else return l}m=!1},h=x(e,M,n),R=!Array.isArray(e);function V(s){var a=r(s,o);R?(m=!0,e.set(a)):a.forEach((d,l)=>{m=!0,e[l].set(d)}),m=!1}var b=!1;function _(s){var a,d,l,f;if(b){f=s(g(h)),u(f);return}var k=h.subscribe(P=>{b?a?d=!0:a=!0:l=P});f=s(l),b=!0,u(f),k(),b=!1,d&&(f=g(h)),a&&V(f)}return{subscribe:h.subscribe,set(s){_(()=>s)},update:_}}const j=20,t=A([]),T=A(null),y=new Map,w=e=>{if(y.has(e))return;const i=setTimeout(()=>{y.delete(e),S(e)},1e3);y.set(e,i)},q=e=>{const i=y.get(e);i&&clearTimeout(i)};function z(e,i=!0){i&&e.id&&q(e.id),t.update(r=>r.map(n=>n.id===e.id?{...n,...e}:n))}function B(e){t.update(i=>[e,...i].slice(0,j))}function H(e){g(t).find(i=>i.id===e.id)?z(e):B(e)}function U(e){t.update(i=>(e?w(e):i.forEach(r=>{w(r.id)}),i.map(r=>r.id===e||e===void 0?{...r,visible:!1}:r)))}function S(e){t.update(i=>e===void 0?[]:i.filter(r=>r.id!==e))}function Y(e){T.set(e)}function Z(e){let i;T.update(r=>(i=e-(r||0),null)),t.update(r=>r.map(n=>({...n,pauseDuration:n.pauseDuration+i})))}const W={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3};function $(e={}){return{toasts:E(t,r=>r.map(n=>{var u,o;return{...e,...e[n.type],...n,duration:n.duration||((u=e[n.type])==null?void 0:u.duration)||(e==null?void 0:e.duration)||W[n.type],style:[e.style,(o=e[n.type])==null?void 0:o.style,n.style].join(";")}}),r=>r),pausedAt:T}}const C=e=>typeof e=="function",N=(e,i)=>C(e)?e(i):e,F=(()=>{let e=0;return()=>(e+=1,e.toString())})(),I=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){const i=matchMedia("(prefers-reduced-motion: reduce)");e=!i||i.matches}return e}})(),G=(e,i="blank",r)=>({createdAt:Date.now(),visible:!0,type:i,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,icon:r==null?void 0:r.icon,duration:r==null?void 0:r.duration,iconTheme:r==null?void 0:r.iconTheme,position:r==null?void 0:r.position,props:r==null?void 0:r.props,id:(r==null?void 0:r.id)||F()}),v=e=>(i,r)=>{const n=G(i,e,r);return H(n),n.id},c=(e,i)=>v("blank")(e,i);c.error=v("error");c.success=v("success");c.loading=v("loading");c.custom=v("custom");c.dismiss=e=>{U(e)};c.remove=e=>S(e);c.promise=(e,i,r)=>{const n=c.loading(i.loading,{...r,...r==null?void 0:r.loading});return e.then(u=>(c.success(N(i.success,u),{id:n,...r,...r==null?void 0:r.success}),u)).catch(u=>{c.error(N(i.error,u),{id:n,...r,...r==null?void 0:r.error})}),e};export{X as a,z as b,Y as c,Z as e,I as p,K as s,c as t,$ as u};
